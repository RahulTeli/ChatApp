{"ast":null,"code":"import { inject } from '@angular/core';\nimport { ChatService } from '../Services/chat.service';\nimport { Router } from '@angular/router';\nimport { NgToastService } from 'ng-angular-popup';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common\";\nimport * as i2 from \"@angular/forms\";\nconst _c0 = [\"scrollMe\"];\nfunction ChatComponent_ng_container_24_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 28)(2, \"div\", 29)(3, \"div\", 30);\n    i0.ɵɵelement(4, \"img\", 31);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\", 32)(6, \"h5\", 33);\n    i0.ɵɵtext(7);\n    i0.ɵɵelement(8, \"span\", 34);\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const user_r4 = ctx.$implicit;\n    i0.ɵɵadvance(7);\n    i0.ɵɵtextInterpolate1(\"\", user_r4, \" \");\n  }\n}\nfunction ChatComponent_ng_container_27_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 35)(2, \"div\", 29)(3, \"div\", 30);\n    i0.ɵɵelement(4, \"img\", 31);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\", 32)(6, \"h5\", 12);\n    i0.ɵɵtext(7);\n    i0.ɵɵelement(8, \"span\", 34);\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const user_r5 = ctx.$implicit;\n    i0.ɵɵadvance(7);\n    i0.ɵɵtextInterpolate1(\"\", user_r5, \" \");\n  }\n}\nfunction ChatComponent_ng_container_32_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 40);\n    i0.ɵɵelement(1, \"img\", 41);\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ChatComponent_ng_container_32_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 42)(1, \"div\", 43)(2, \"p\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"span\", 44);\n    i0.ɵɵtext(5);\n    i0.ɵɵpipe(6, \"date\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const message_r6 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", message_r6.message, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate2(\"\", message_r6.user, \" | \", i0.ɵɵpipeBind2(6, 3, message_r6.messageTime, \"medium\"), \"\");\n  }\n}\nfunction ChatComponent_ng_container_32_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 45)(1, \"p\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"span\", 44);\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"date\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const message_r6 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(message_r6.message);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate2(\"\", message_r6.user, \" | \", i0.ɵɵpipeBind2(5, 3, message_r6.messageTime, \"medium\"), \"\");\n  }\n}\nconst _c1 = function (a0, a1) {\n  return {\n    \"incoming_msg\": a0,\n    \"outgoing_msg\": a1\n  };\n};\nfunction ChatComponent_ng_container_32_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 36);\n    i0.ɵɵtemplate(2, ChatComponent_ng_container_32_div_2_Template, 2, 0, \"div\", 37);\n    i0.ɵɵtemplate(3, ChatComponent_ng_container_32_div_3_Template, 7, 6, \"div\", 38);\n    i0.ɵɵtemplate(4, ChatComponent_ng_container_32_div_4_Template, 6, 6, \"div\", 39);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const message_r6 = ctx.$implicit;\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction2(4, _c1, message_r6.user != ctx_r3.loggedInUserName, message_r6.user === ctx_r3.loggedInUserName));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", message_r6.user != ctx_r3.loggedInUserName);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", message_r6.user != ctx_r3.loggedInUserName);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", message_r6.user === ctx_r3.loggedInUserName);\n  }\n}\nexport class ChatComponent {\n  constructor() {\n    this.service = inject(ChatService);\n    this.route = inject(Router);\n    this.toast = inject(NgToastService);\n    this.messages = [];\n    this.inputMessage = \"\";\n    this.loggedInUserName = sessionStorage.getItem('user');\n    this.roomName = sessionStorage.getItem('room');\n  }\n  ngOnInit() {\n    this.service.message$.subscribe(response => {\n      if (response) {\n        this.messages = response;\n      }\n    });\n  }\n  ngAfterViewChecked() {\n    this.scrollContainer.nativeElement.scrollTop = this.scrollContainer.nativeElement.scrollHeight; // it will automatically scrolled  according to height of div\n  }\n\n  sendMessage() {\n    if (this.inputMessage != \"\") {\n      this.service.sendMessage(this.inputMessage).then(response => {\n        this.inputMessage = \"\";\n      }).catch(error => {\n        console.log(error);\n      });\n    }\n  }\n  leaveChat() {\n    this.service.leaveChat().then(response => {\n      this.route.navigate(['/welcome']);\n      setTimeout(() => {\n        location.reload(); /////////////////////////////////// the most IMP  method to reload page \n      }, 0);\n      setTimeout(() => {\n        this.showInfo();\n      }, 0);\n    }).catch(error => {\n      console.log(error);\n    });\n  }\n  showInfo() {\n    this.loggedInUserName && this.toast.info({\n      detail: \"INFO\",\n      summary: this.loggedInUserName + ' left the Group',\n      duration: 8000,\n      sticky: true,\n      position: 'topRight'\n    });\n  }\n  static #_ = this.ɵfac = function ChatComponent_Factory(t) {\n    return new (t || ChatComponent)();\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ChatComponent,\n    selectors: [[\"app-chat\"]],\n    viewQuery: function ChatComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(_c0, 5);\n      }\n      if (rf & 2) {\n        let _t;\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.scrollContainer = _t.first);\n      }\n    },\n    decls: 39,\n    vars: 11,\n    consts: [[1, \"container\", \"mt-5\"], [1, \"chat_header\"], [\"type\", \"button\", \"data-bs-toggle\", \"offcanvas\", \"id\", \"colapse\", \"data-bs-target\", \"#offcanvasWithBothOptions\", \"aria-controls\", \"offcanvasWithBothOptions\", 1, \"btn\", \"btn-outline-light-\", \"d-none\"], [1, \"fa-solid\", \"fa-bars\", \"text-white\"], [1, \"text-center\", \"my-2\"], [1, \"text-warning\"], [1, \"btn\", \"btn-danger\", \"leave\", 3, \"click\"], [1, \"messaging\"], [1, \"inbox_msg\"], [1, \"inbox_people\"], [1, \"headind_srch\"], [1, \"recent_heading\"], [1, \"text-white\"], [\"data-bs-scroll\", \"true\", \"tabindex\", \"-1\", \"id\", \"offcanvasWithBothOptions\", \"aria-labelledby\", \"offcanvasWithBothOptionsLabel\", 1, \"offcanvas\", \"offcanvas-start\"], [1, \"offcanvas-header\"], [\"id\", \"offcanvasWithBothOptionsLabel\", 1, \"offcanvas-title\"], [\"type\", \"button\", \"data-bs-dismiss\", \"offcanvas\", \"aria-label\", \"Close\", 1, \"btn-close\"], [1, \"offcanvas-body\"], [4, \"ngFor\", \"ngForOf\"], [1, \"inbox_chat\"], [1, \"mesgs\"], [1, \"msg_history\"], [\"scrollMe\", \"\"], [1, \"type_msg\"], [1, \"input_msg_write\"], [\"type\", \"text\", \"placeholder\", \"Type a message\", 1, \"write_msg\", \"text-white\", 3, \"ngModel\", \"keydown.enter\", \"ngModelChange\"], [\"type\", \"button\", 1, \"msg_send_btn\", 3, \"click\"], [1, \"fa-solid\", \"fa-paper-plane\"], [1, \"chat_list\", \"border-top\"], [1, \"chat_people\"], [1, \"chat_img\"], [\"src\", \"https://ptetutorials.com/images/user-profile.png\", \"alt\", \"\"], [1, \"chat_ib\", \"mt-3\"], [1, \"\"], [1, \"online\"], [1, \"chat_list\"], [3, \"ngClass\"], [\"class\", \"incoming_msg_img\", 4, \"ngIf\"], [\"class\", \"received_msg\", 4, \"ngIf\"], [\"class\", \"sent_msg\", 4, \"ngIf\"], [1, \"incoming_msg_img\"], [\"src\", \"https://ptetutorials.com/images/user-profile.png\"], [1, \"received_msg\"], [1, \"received_withd_msg\"], [1, \"time_date\"], [1, \"sent_msg\"]],\n    template: function ChatComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"button\", 2);\n        i0.ɵɵelement(3, \"i\", 3);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(4, \"h3\", 4);\n        i0.ɵɵtext(5, \"Welcome to \");\n        i0.ɵɵelementStart(6, \"span\", 5);\n        i0.ɵɵtext(7);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(8, \" Group\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(9, \"button\", 6);\n        i0.ɵɵlistener(\"click\", function ChatComponent_Template_button_click_9_listener() {\n          return ctx.leaveChat();\n        });\n        i0.ɵɵtext(10, \"Leave Chat\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(11, \"div\", 7)(12, \"div\", 8)(13, \"div\", 9)(14, \"div\", 10)(15, \"div\", 11)(16, \"h4\", 12);\n        i0.ɵɵtext(17, \"Connected Users\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(18, \"div\", 13)(19, \"div\", 14)(20, \"h5\", 15);\n        i0.ɵɵtext(21, \"Connected Users\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(22, \"button\", 16);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(23, \"div\", 17);\n        i0.ɵɵtemplate(24, ChatComponent_ng_container_24_Template, 9, 1, \"ng-container\", 18);\n        i0.ɵɵpipe(25, \"async\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(26, \"div\", 19);\n        i0.ɵɵtemplate(27, ChatComponent_ng_container_27_Template, 9, 1, \"ng-container\", 18);\n        i0.ɵɵpipe(28, \"async\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(29, \"div\", 20)(30, \"div\", 21, 22);\n        i0.ɵɵtemplate(32, ChatComponent_ng_container_32_Template, 5, 7, \"ng-container\", 18);\n        i0.ɵɵpipe(33, \"async\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(34, \"div\", 23)(35, \"div\", 24)(36, \"input\", 25);\n        i0.ɵɵlistener(\"keydown.enter\", function ChatComponent_Template_input_keydown_enter_36_listener() {\n          return ctx.sendMessage();\n        })(\"ngModelChange\", function ChatComponent_Template_input_ngModelChange_36_listener($event) {\n          return ctx.inputMessage = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(37, \"button\", 26);\n        i0.ɵɵlistener(\"click\", function ChatComponent_Template_button_click_37_listener() {\n          return ctx.sendMessage();\n        });\n        i0.ɵɵelement(38, \"i\", 27);\n        i0.ɵɵelementEnd()()()()()()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(7);\n        i0.ɵɵtextInterpolate(ctx.roomName);\n        i0.ɵɵadvance(17);\n        i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(25, 5, ctx.service.ConnectedUsers$));\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(28, 7, ctx.service.ConnectedUsers$));\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(33, 9, ctx.service.message$));\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngModel\", ctx.inputMessage);\n      }\n    },\n    dependencies: [i1.NgClass, i1.NgForOf, i1.NgIf, i2.DefaultValueAccessor, i2.NgControlStatus, i2.NgModel, i1.AsyncPipe, i1.DatePipe],\n    styles: [\".container[_ngcontent-%COMP%] {\\n    max-width: 1170px;\\n    margin: auto;\\n    background-color:black;\\n    color: white;\\n  }\\n  \\n  .chat_header[_ngcontent-%COMP%] {\\n    display: flex;\\n    justify-content: space-between;\\n    align-items: center;\\n    height: 70px;\\n  \\n  }\\n  \\n  .no_chat[_ngcontent-%COMP%] {\\n    height: calc(100vh - 70px);\\n    text-align: center;\\n    display: flex;\\n    align-items: center;\\n    justify-content: center;\\n  }\\n  \\n  .join[_ngcontent-%COMP%] {\\n    display: flex;\\n    flex-direction: column;\\n    align-items: center;\\n  \\n  }\\n  \\n  .online[_ngcontent-%COMP%] {\\n    width: 10px;\\n    height: 10px;\\n    border-radius: 50%;\\n    background: green;\\n  }\\n  \\n  img[_ngcontent-%COMP%] {\\n    max-width: 100%;\\n  }\\n  \\n  .inbox_people[_ngcontent-%COMP%] {\\n    background-color: #b1e4f627;\\n    \\n    float: left;\\n    overflow: hidden;\\n    width: 40%;\\n    border-right: 1px solid #c4c4c4;\\n    \\n  }\\n  \\n  .inbox_msg[_ngcontent-%COMP%] {\\n    border: 1px solid #c4c4c4;\\n    clear: both;\\n    overflow: hidden;\\n  }\\n  \\n  .top_spac[_ngcontent-%COMP%] {\\n    margin: 20px 0 0;\\n  }\\n  \\n  \\n  .recent_heading[_ngcontent-%COMP%] {\\n    float: left;\\n    width: 80%;\\n  }\\n  \\n\\n  \\n  .headind_srch[_ngcontent-%COMP%] {\\n    padding: 10px 29px 10px 20px;\\n    overflow: hidden;\\n    border-bottom: 1px solid #c4c4c4;\\n    \\n  }\\n  \\n  .recent_heading[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%] {\\n    color: #05728f;\\n    font-size: 20px;\\n    margin: auto;\\n  }\\n\\n  \\n\\n  \\n\\n  \\n  .chat_ib[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%] {\\n    font-size: 15px;\\n    color: #464646;\\n    margin: 0 0 8px 0;\\n  }\\n  \\n  .chat_ib[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]   span[_ngcontent-%COMP%] {\\n    font-size: 13px;\\n    float: right;\\n  }\\n  \\n  .chat_ib[_ngcontent-%COMP%]   p[_ngcontent-%COMP%] {\\n    font-size: 14px;\\n    color: #989898;\\n    margin: auto\\n  }\\n  \\n  .chat_img[_ngcontent-%COMP%] {\\n    float: left;\\n    width: 11%;\\n  }\\n  \\n  .chat_ib[_ngcontent-%COMP%] {\\n    float: left;\\n    padding: 0 0 0 15px;\\n    width: 88%;\\n  }\\n  \\n  .chat_people[_ngcontent-%COMP%] {\\n    overflow: hidden;\\n    clear: both;\\n  }\\n  \\n  .chat_list[_ngcontent-%COMP%] {\\n    border-bottom: 1px solid #c4c4c4;\\n    margin: 0;\\n    padding: 18px 16px 10px;\\n  }\\n  \\n  .inbox_chat[_ngcontent-%COMP%] {\\n    height: 550px;\\n  \\n  }\\n  \\n  .active_chat[_ngcontent-%COMP%] {\\n    background: #ebebeb;\\n  }\\n  \\n  .incoming_msg_img[_ngcontent-%COMP%] {\\n    display: inline-block;\\n    width: 6%;\\n  }\\n  \\n  .received_msg[_ngcontent-%COMP%] {\\n    display: inline-block;\\n    padding: 0 0 0 10px;\\n    vertical-align: top;\\n    width: 92%;\\n  }\\n  \\n  .received_withd_msg[_ngcontent-%COMP%]   p[_ngcontent-%COMP%] {\\n    background: #ebebeb none repeat scroll 0 0;\\n    border-radius: 3px;\\n    color: #646464;\\n    font-size: 14px;\\n    margin: 0;\\n    padding: 5px 10px 5px 12px;\\n    width: 100%;\\n    word-break: break-all;\\n  }\\n  \\n  .time_date[_ngcontent-%COMP%] {\\n    color: #747474;\\n    display: block;\\n    font-size: 12px;\\n    margin: 8px 0 0;\\n    margin-bottom: 6px;\\n  }\\n  \\n  .received_withd_msg[_ngcontent-%COMP%] {\\n    width: 57%;\\n  }\\n  \\n  .mesgs[_ngcontent-%COMP%] {\\n    float: left;\\n    padding: 30px 15px 0 25px;\\n    margin-left: -8px;\\n    width: 60%;\\n  }\\n  \\n  .sent_msg[_ngcontent-%COMP%]   p[_ngcontent-%COMP%] {\\n    background: #05728f none repeat scroll 0 0;\\n    border-radius: 3px;\\n    font-size: 14px;\\n    margin: 0;\\n    color: #fff;\\n    padding: 5px 10px 5px 12px;\\n    width: 100%;\\n    word-break: break-all;\\n  }\\n  \\n  .outgoing_msg[_ngcontent-%COMP%] {\\n   overflow: hidden;\\n    margin: 8px 0 8px;\\n   \\n  }\\n  \\n  .sent_msg[_ngcontent-%COMP%] {\\n    float: right;\\n    width: 46%;\\n  }\\n  \\n  .input_msg_write[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] {\\n    background: rgba(0, 0, 0, 0) none repeat scroll 0 0;\\n    border: medium none;\\n    outline: none;\\n    color: #4c4c4c;\\n    font-size: 15px;\\n    min-height: 48px;\\n    width: 100%;\\n\\n  }\\n  \\n  .type_msg[_ngcontent-%COMP%] {\\n    border-top: 1px solid #c4c4c4;\\n    position: relative;\\n  }\\n  \\n  .msg_send_btn[_ngcontent-%COMP%] {\\n    background: #05728f none repeat scroll 0 0;\\n    border: medium none;\\n    border-radius: 50%;\\n    color: #fff;\\n    cursor: pointer;\\n    font-size: 17px;\\n    height: 33px;\\n    position: absolute;\\n    right: 0;\\n    top: 11px;\\n    width: 33px;\\n  }\\n  \\n  .messaging[_ngcontent-%COMP%] {\\n    padding: 0 0 50px 0;\\n  }\\n  \\n  .msg_history[_ngcontent-%COMP%] {\\n    height: 516px;\\n    overflow-y: auto;\\n  }\\n\\n\\n\\n\\n\\n  @media (max-width:690px){\\n\\n    .inbox_chat[_ngcontent-%COMP%]{\\n      display: none;\\n    }\\n\\n    .headind_srch[_ngcontent-%COMP%]{\\n      display: none;\\n    }\\n\\n    .mesgs[_ngcontent-%COMP%] {\\n     \\n      padding: 30px 15px 0 25px;\\n      width: 100%;\\n    }\\n\\n    #colapse[_ngcontent-%COMP%]{\\n      display: block !important;\\n    }\\n\\n    .chat_list[_ngcontent-%COMP%] {\\n      border-bottom: 1px solid #080808;\\n    }\\n    .leave[_ngcontent-%COMP%]{\\n      width: max-content;\\n      height: 40px;\\n      font-size: 10px;\\n    }\\n    .chat_header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{\\n      font-size: 18px;\\n    }\\n\\n  }\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY2hhdC9jaGF0LmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxpQkFBaUI7SUFDakIsWUFBWTtJQUNaLHNCQUFzQjtJQUN0QixZQUFZO0VBQ2Q7O0VBRUE7SUFDRSxhQUFhO0lBQ2IsOEJBQThCO0lBQzlCLG1CQUFtQjtJQUNuQixZQUFZOztFQUVkOztFQUVBO0lBQ0UsMEJBQTBCO0lBQzFCLGtCQUFrQjtJQUNsQixhQUFhO0lBQ2IsbUJBQW1CO0lBQ25CLHVCQUF1QjtFQUN6Qjs7RUFFQTtJQUNFLGFBQWE7SUFDYixzQkFBc0I7SUFDdEIsbUJBQW1COztFQUVyQjs7RUFFQTtJQUNFLFdBQVc7SUFDWCxZQUFZO0lBQ1osa0JBQWtCO0lBQ2xCLGlCQUFpQjtFQUNuQjs7RUFFQTtJQUNFLGVBQWU7RUFDakI7O0VBRUE7SUFDRSwyQkFBMkI7O0lBRTNCLFdBQVc7SUFDWCxnQkFBZ0I7SUFDaEIsVUFBVTtJQUNWLCtCQUErQjs7RUFFakM7O0VBRUE7SUFDRSx5QkFBeUI7SUFDekIsV0FBVztJQUNYLGdCQUFnQjtFQUNsQjs7RUFFQTtJQUNFLGdCQUFnQjtFQUNsQjs7O0VBR0E7SUFDRSxXQUFXO0lBQ1gsVUFBVTtFQUNaOzs7O0VBSUE7SUFDRSw0QkFBNEI7SUFDNUIsZ0JBQWdCO0lBQ2hCLGdDQUFnQzs7RUFFbEM7O0VBRUE7SUFDRSxjQUFjO0lBQ2QsZUFBZTtJQUNmLFlBQVk7RUFDZDs7Ozs7OztFQU9BO0lBQ0UsZUFBZTtJQUNmLGNBQWM7SUFDZCxpQkFBaUI7RUFDbkI7O0VBRUE7SUFDRSxlQUFlO0lBQ2YsWUFBWTtFQUNkOztFQUVBO0lBQ0UsZUFBZTtJQUNmLGNBQWM7SUFDZDtFQUNGOztFQUVBO0lBQ0UsV0FBVztJQUNYLFVBQVU7RUFDWjs7RUFFQTtJQUNFLFdBQVc7SUFDWCxtQkFBbUI7SUFDbkIsVUFBVTtFQUNaOztFQUVBO0lBQ0UsZ0JBQWdCO0lBQ2hCLFdBQVc7RUFDYjs7RUFFQTtJQUNFLGdDQUFnQztJQUNoQyxTQUFTO0lBQ1QsdUJBQXVCO0VBQ3pCOztFQUVBO0lBQ0UsYUFBYTs7RUFFZjs7RUFFQTtJQUNFLG1CQUFtQjtFQUNyQjs7RUFFQTtJQUNFLHFCQUFxQjtJQUNyQixTQUFTO0VBQ1g7O0VBRUE7SUFDRSxxQkFBcUI7SUFDckIsbUJBQW1CO0lBQ25CLG1CQUFtQjtJQUNuQixVQUFVO0VBQ1o7O0VBRUE7SUFDRSwwQ0FBMEM7SUFDMUMsa0JBQWtCO0lBQ2xCLGNBQWM7SUFDZCxlQUFlO0lBQ2YsU0FBUztJQUNULDBCQUEwQjtJQUMxQixXQUFXO0lBQ1gscUJBQXFCO0VBQ3ZCOztFQUVBO0lBQ0UsY0FBYztJQUNkLGNBQWM7SUFDZCxlQUFlO0lBQ2YsZUFBZTtJQUNmLGtCQUFrQjtFQUNwQjs7RUFFQTtJQUNFLFVBQVU7RUFDWjs7RUFFQTtJQUNFLFdBQVc7SUFDWCx5QkFBeUI7SUFDekIsaUJBQWlCO0lBQ2pCLFVBQVU7RUFDWjs7RUFFQTtJQUNFLDBDQUEwQztJQUMxQyxrQkFBa0I7SUFDbEIsZUFBZTtJQUNmLFNBQVM7SUFDVCxXQUFXO0lBQ1gsMEJBQTBCO0lBQzFCLFdBQVc7SUFDWCxxQkFBcUI7RUFDdkI7O0VBRUE7R0FDQyxnQkFBZ0I7SUFDZixpQkFBaUI7O0VBRW5COztFQUVBO0lBQ0UsWUFBWTtJQUNaLFVBQVU7RUFDWjs7RUFFQTtJQUNFLG1EQUFtRDtJQUNuRCxtQkFBbUI7SUFDbkIsYUFBYTtJQUNiLGNBQWM7SUFDZCxlQUFlO0lBQ2YsZ0JBQWdCO0lBQ2hCLFdBQVc7O0VBRWI7O0VBRUE7SUFDRSw2QkFBNkI7SUFDN0Isa0JBQWtCO0VBQ3BCOztFQUVBO0lBQ0UsMENBQTBDO0lBQzFDLG1CQUFtQjtJQUNuQixrQkFBa0I7SUFDbEIsV0FBVztJQUNYLGVBQWU7SUFDZixlQUFlO0lBQ2YsWUFBWTtJQUNaLGtCQUFrQjtJQUNsQixRQUFRO0lBQ1IsU0FBUztJQUNULFdBQVc7RUFDYjs7RUFFQTtJQUNFLG1CQUFtQjtFQUNyQjs7RUFFQTtJQUNFLGFBQWE7SUFDYixnQkFBZ0I7RUFDbEI7O0FBRUY7ZUFDZTs7RUFFYjs7SUFFRTtNQUNFLGFBQWE7SUFDZjs7SUFFQTtNQUNFLGFBQWE7SUFDZjs7SUFFQTs7TUFFRSx5QkFBeUI7TUFDekIsV0FBVztJQUNiOztJQUVBO01BQ0UseUJBQXlCO0lBQzNCOztJQUVBO01BQ0UsZ0NBQWdDO0lBQ2xDO0lBQ0E7TUFDRSxrQkFBa0I7TUFDbEIsWUFBWTtNQUNaLGVBQWU7SUFDakI7SUFDQTtNQUNFLGVBQWU7SUFDakI7O0VBRUYiLCJzb3VyY2VzQ29udGVudCI6WyIuY29udGFpbmVyIHtcclxuICAgIG1heC13aWR0aDogMTE3MHB4O1xyXG4gICAgbWFyZ2luOiBhdXRvO1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjpibGFjaztcclxuICAgIGNvbG9yOiB3aGl0ZTtcclxuICB9XHJcbiAgXHJcbiAgLmNoYXRfaGVhZGVyIHtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XHJcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gICAgaGVpZ2h0OiA3MHB4O1xyXG4gIFxyXG4gIH1cclxuICBcclxuICAubm9fY2hhdCB7XHJcbiAgICBoZWlnaHQ6IGNhbGMoMTAwdmggLSA3MHB4KTtcclxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbiAgfVxyXG4gIFxyXG4gIC5qb2luIHtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICBcclxuICB9XHJcbiAgXHJcbiAgLm9ubGluZSB7XHJcbiAgICB3aWR0aDogMTBweDtcclxuICAgIGhlaWdodDogMTBweDtcclxuICAgIGJvcmRlci1yYWRpdXM6IDUwJTtcclxuICAgIGJhY2tncm91bmQ6IGdyZWVuO1xyXG4gIH1cclxuICBcclxuICBpbWcge1xyXG4gICAgbWF4LXdpZHRoOiAxMDAlO1xyXG4gIH1cclxuICBcclxuICAuaW5ib3hfcGVvcGxlIHtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICNiMWU0ZjYyNztcclxuICAgIFxyXG4gICAgZmxvYXQ6IGxlZnQ7XHJcbiAgICBvdmVyZmxvdzogaGlkZGVuO1xyXG4gICAgd2lkdGg6IDQwJTtcclxuICAgIGJvcmRlci1yaWdodDogMXB4IHNvbGlkICNjNGM0YzQ7XHJcbiAgICBcclxuICB9XHJcbiAgXHJcbiAgLmluYm94X21zZyB7XHJcbiAgICBib3JkZXI6IDFweCBzb2xpZCAjYzRjNGM0O1xyXG4gICAgY2xlYXI6IGJvdGg7XHJcbiAgICBvdmVyZmxvdzogaGlkZGVuO1xyXG4gIH1cclxuICBcclxuICAudG9wX3NwYWMge1xyXG4gICAgbWFyZ2luOiAyMHB4IDAgMDtcclxuICB9XHJcbiAgXHJcbiAgXHJcbiAgLnJlY2VudF9oZWFkaW5nIHtcclxuICAgIGZsb2F0OiBsZWZ0O1xyXG4gICAgd2lkdGg6IDgwJTtcclxuICB9XHJcbiAgXHJcblxyXG4gIFxyXG4gIC5oZWFkaW5kX3NyY2gge1xyXG4gICAgcGFkZGluZzogMTBweCAyOXB4IDEwcHggMjBweDtcclxuICAgIG92ZXJmbG93OiBoaWRkZW47XHJcbiAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2M0YzRjNDtcclxuICAgIFxyXG4gIH1cclxuICBcclxuICAucmVjZW50X2hlYWRpbmcgaDQge1xyXG4gICAgY29sb3I6ICMwNTcyOGY7XHJcbiAgICBmb250LXNpemU6IDIwcHg7XHJcbiAgICBtYXJnaW46IGF1dG87XHJcbiAgfVxyXG5cclxuICBcclxuXHJcbiAgXHJcblxyXG4gIFxyXG4gIC5jaGF0X2liIGg1IHtcclxuICAgIGZvbnQtc2l6ZTogMTVweDtcclxuICAgIGNvbG9yOiAjNDY0NjQ2O1xyXG4gICAgbWFyZ2luOiAwIDAgOHB4IDA7XHJcbiAgfVxyXG4gIFxyXG4gIC5jaGF0X2liIGg1IHNwYW4ge1xyXG4gICAgZm9udC1zaXplOiAxM3B4O1xyXG4gICAgZmxvYXQ6IHJpZ2h0O1xyXG4gIH1cclxuICBcclxuICAuY2hhdF9pYiBwIHtcclxuICAgIGZvbnQtc2l6ZTogMTRweDtcclxuICAgIGNvbG9yOiAjOTg5ODk4O1xyXG4gICAgbWFyZ2luOiBhdXRvXHJcbiAgfVxyXG4gIFxyXG4gIC5jaGF0X2ltZyB7XHJcbiAgICBmbG9hdDogbGVmdDtcclxuICAgIHdpZHRoOiAxMSU7XHJcbiAgfVxyXG4gIFxyXG4gIC5jaGF0X2liIHtcclxuICAgIGZsb2F0OiBsZWZ0O1xyXG4gICAgcGFkZGluZzogMCAwIDAgMTVweDtcclxuICAgIHdpZHRoOiA4OCU7XHJcbiAgfVxyXG4gIFxyXG4gIC5jaGF0X3Blb3BsZSB7XHJcbiAgICBvdmVyZmxvdzogaGlkZGVuO1xyXG4gICAgY2xlYXI6IGJvdGg7XHJcbiAgfVxyXG4gIFxyXG4gIC5jaGF0X2xpc3Qge1xyXG4gICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNjNGM0YzQ7XHJcbiAgICBtYXJnaW46IDA7XHJcbiAgICBwYWRkaW5nOiAxOHB4IDE2cHggMTBweDtcclxuICB9XHJcbiAgXHJcbiAgLmluYm94X2NoYXQge1xyXG4gICAgaGVpZ2h0OiA1NTBweDtcclxuICBcclxuICB9XHJcbiAgXHJcbiAgLmFjdGl2ZV9jaGF0IHtcclxuICAgIGJhY2tncm91bmQ6ICNlYmViZWI7XHJcbiAgfVxyXG4gIFxyXG4gIC5pbmNvbWluZ19tc2dfaW1nIHtcclxuICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcclxuICAgIHdpZHRoOiA2JTtcclxuICB9XHJcbiAgXHJcbiAgLnJlY2VpdmVkX21zZyB7XHJcbiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XHJcbiAgICBwYWRkaW5nOiAwIDAgMCAxMHB4O1xyXG4gICAgdmVydGljYWwtYWxpZ246IHRvcDtcclxuICAgIHdpZHRoOiA5MiU7XHJcbiAgfVxyXG4gIFxyXG4gIC5yZWNlaXZlZF93aXRoZF9tc2cgcCB7XHJcbiAgICBiYWNrZ3JvdW5kOiAjZWJlYmViIG5vbmUgcmVwZWF0IHNjcm9sbCAwIDA7XHJcbiAgICBib3JkZXItcmFkaXVzOiAzcHg7XHJcbiAgICBjb2xvcjogIzY0NjQ2NDtcclxuICAgIGZvbnQtc2l6ZTogMTRweDtcclxuICAgIG1hcmdpbjogMDtcclxuICAgIHBhZGRpbmc6IDVweCAxMHB4IDVweCAxMnB4O1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbiAgICB3b3JkLWJyZWFrOiBicmVhay1hbGw7XHJcbiAgfVxyXG4gIFxyXG4gIC50aW1lX2RhdGUge1xyXG4gICAgY29sb3I6ICM3NDc0NzQ7XHJcbiAgICBkaXNwbGF5OiBibG9jaztcclxuICAgIGZvbnQtc2l6ZTogMTJweDtcclxuICAgIG1hcmdpbjogOHB4IDAgMDtcclxuICAgIG1hcmdpbi1ib3R0b206IDZweDtcclxuICB9XHJcbiAgXHJcbiAgLnJlY2VpdmVkX3dpdGhkX21zZyB7XHJcbiAgICB3aWR0aDogNTclO1xyXG4gIH1cclxuICBcclxuICAubWVzZ3Mge1xyXG4gICAgZmxvYXQ6IGxlZnQ7XHJcbiAgICBwYWRkaW5nOiAzMHB4IDE1cHggMCAyNXB4O1xyXG4gICAgbWFyZ2luLWxlZnQ6IC04cHg7XHJcbiAgICB3aWR0aDogNjAlO1xyXG4gIH1cclxuICBcclxuICAuc2VudF9tc2cgcCB7XHJcbiAgICBiYWNrZ3JvdW5kOiAjMDU3MjhmIG5vbmUgcmVwZWF0IHNjcm9sbCAwIDA7XHJcbiAgICBib3JkZXItcmFkaXVzOiAzcHg7XHJcbiAgICBmb250LXNpemU6IDE0cHg7XHJcbiAgICBtYXJnaW46IDA7XHJcbiAgICBjb2xvcjogI2ZmZjtcclxuICAgIHBhZGRpbmc6IDVweCAxMHB4IDVweCAxMnB4O1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbiAgICB3b3JkLWJyZWFrOiBicmVhay1hbGw7XHJcbiAgfVxyXG4gIFxyXG4gIC5vdXRnb2luZ19tc2cge1xyXG4gICBvdmVyZmxvdzogaGlkZGVuO1xyXG4gICAgbWFyZ2luOiA4cHggMCA4cHg7XHJcbiAgIFxyXG4gIH1cclxuICBcclxuICAuc2VudF9tc2cge1xyXG4gICAgZmxvYXQ6IHJpZ2h0O1xyXG4gICAgd2lkdGg6IDQ2JTtcclxuICB9XHJcbiAgXHJcbiAgLmlucHV0X21zZ193cml0ZSBpbnB1dCB7XHJcbiAgICBiYWNrZ3JvdW5kOiByZ2JhKDAsIDAsIDAsIDApIG5vbmUgcmVwZWF0IHNjcm9sbCAwIDA7XHJcbiAgICBib3JkZXI6IG1lZGl1bSBub25lO1xyXG4gICAgb3V0bGluZTogbm9uZTtcclxuICAgIGNvbG9yOiAjNGM0YzRjO1xyXG4gICAgZm9udC1zaXplOiAxNXB4O1xyXG4gICAgbWluLWhlaWdodDogNDhweDtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG5cclxuICB9XHJcbiAgXHJcbiAgLnR5cGVfbXNnIHtcclxuICAgIGJvcmRlci10b3A6IDFweCBzb2xpZCAjYzRjNGM0O1xyXG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG4gIH1cclxuICBcclxuICAubXNnX3NlbmRfYnRuIHtcclxuICAgIGJhY2tncm91bmQ6ICMwNTcyOGYgbm9uZSByZXBlYXQgc2Nyb2xsIDAgMDtcclxuICAgIGJvcmRlcjogbWVkaXVtIG5vbmU7XHJcbiAgICBib3JkZXItcmFkaXVzOiA1MCU7XHJcbiAgICBjb2xvcjogI2ZmZjtcclxuICAgIGN1cnNvcjogcG9pbnRlcjtcclxuICAgIGZvbnQtc2l6ZTogMTdweDtcclxuICAgIGhlaWdodDogMzNweDtcclxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgIHJpZ2h0OiAwO1xyXG4gICAgdG9wOiAxMXB4O1xyXG4gICAgd2lkdGg6IDMzcHg7XHJcbiAgfVxyXG4gIFxyXG4gIC5tZXNzYWdpbmcge1xyXG4gICAgcGFkZGluZzogMCAwIDUwcHggMDtcclxuICB9XHJcbiAgXHJcbiAgLm1zZ19oaXN0b3J5IHtcclxuICAgIGhlaWdodDogNTE2cHg7XHJcbiAgICBvdmVyZmxvdy15OiBhdXRvO1xyXG4gIH1cclxuXHJcbi8qIFxyXG4gIG1lZGlhIFF1ZXJ5ICovXHJcblxyXG4gIEBtZWRpYSAobWF4LXdpZHRoOjY5MHB4KXtcclxuXHJcbiAgICAuaW5ib3hfY2hhdHtcclxuICAgICAgZGlzcGxheTogbm9uZTtcclxuICAgIH1cclxuXHJcbiAgICAuaGVhZGluZF9zcmNoe1xyXG4gICAgICBkaXNwbGF5OiBub25lO1xyXG4gICAgfVxyXG5cclxuICAgIC5tZXNncyB7XHJcbiAgICAgXHJcbiAgICAgIHBhZGRpbmc6IDMwcHggMTVweCAwIDI1cHg7XHJcbiAgICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgfVxyXG5cclxuICAgICNjb2xhcHNle1xyXG4gICAgICBkaXNwbGF5OiBibG9jayAhaW1wb3J0YW50O1xyXG4gICAgfVxyXG5cclxuICAgIC5jaGF0X2xpc3Qge1xyXG4gICAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgIzA4MDgwODtcclxuICAgIH1cclxuICAgIC5sZWF2ZXtcclxuICAgICAgd2lkdGg6IG1heC1jb250ZW50O1xyXG4gICAgICBoZWlnaHQ6IDQwcHg7XHJcbiAgICAgIGZvbnQtc2l6ZTogMTBweDtcclxuICAgIH1cclxuICAgIC5jaGF0X2hlYWRlciBoM3tcclxuICAgICAgZm9udC1zaXplOiAxOHB4O1xyXG4gICAgfVxyXG5cclxuICB9Il0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n  });\n}","map":{"version":3,"names":["inject","ChatService","Router","NgToastService","i0","ɵɵelementContainerStart","ɵɵelementStart","ɵɵelement","ɵɵelementEnd","ɵɵtext","ɵɵelementContainerEnd","ɵɵadvance","ɵɵtextInterpolate1","user_r4","user_r5","message_r6","message","ɵɵtextInterpolate2","user","ɵɵpipeBind2","messageTime","ɵɵtextInterpolate","ɵɵtemplate","ChatComponent_ng_container_32_div_2_Template","ChatComponent_ng_container_32_div_3_Template","ChatComponent_ng_container_32_div_4_Template","ɵɵproperty","ɵɵpureFunction2","_c1","ctx_r3","loggedInUserName","ChatComponent","constructor","service","route","toast","messages","inputMessage","sessionStorage","getItem","roomName","ngOnInit","message$","subscribe","response","ngAfterViewChecked","scrollContainer","nativeElement","scrollTop","scrollHeight","sendMessage","then","catch","error","console","log","leaveChat","navigate","setTimeout","location","reload","showInfo","info","detail","summary","duration","sticky","position","_","_2","selectors","viewQuery","ChatComponent_Query","rf","ctx","ɵɵlistener","ChatComponent_Template_button_click_9_listener","ChatComponent_ng_container_24_Template","ChatComponent_ng_container_27_Template","ChatComponent_ng_container_32_Template","ChatComponent_Template_input_keydown_enter_36_listener","ChatComponent_Template_input_ngModelChange_36_listener","$event","ChatComponent_Template_button_click_37_listener","ɵɵpipeBind1","ConnectedUsers$"],"sources":["D:\\Projects\\ChatApplication\\FrontEnd\\ClientApp\\src\\app\\chat\\chat.component.ts","D:\\Projects\\ChatApplication\\FrontEnd\\ClientApp\\src\\app\\chat\\chat.component.html"],"sourcesContent":["import { Component, ElementRef, ViewChild, inject } from '@angular/core';\nimport { ChatService } from '../Services/chat.service';\nimport { Router } from '@angular/router';\nimport { NgToastService } from 'ng-angular-popup';\n\n@Component({\n  selector: 'app-chat',\n  templateUrl: './chat.component.html',\n  styleUrls: ['./chat.component.css']\n})\nexport class ChatComponent {\n\n  public service = inject(ChatService);\n  private route = inject(Router);\n  private toast = inject(NgToastService);\n\n  messages :any[] = [];\n  inputMessage :string=\"\";\n  loggedInUserName=sessionStorage.getItem('user');\n  roomName = sessionStorage.getItem('room');\n  @ViewChild('scrollMe') private scrollContainer! :ElementRef;   // using ViewChild() we can directly get html elements \n\n  ngOnInit(){\n    this.service.message$.subscribe((response)=>{\n      if(response)\n      {\n        this.messages = response;\n      }\n    })\n  }\n\n  ngAfterViewChecked()\n  {\n    this.scrollContainer.nativeElement.scrollTop=this.scrollContainer.nativeElement.scrollHeight   // it will automatically scrolled  according to height of div\n  }  \n\n  sendMessage()\n  {\n    if(this.inputMessage!=\"\")\n    {\n      this.service.sendMessage(this.inputMessage).then((response)=>{\n        this.inputMessage = \"\";\n    }).catch((error)=>{\n      console.log(error)\n    })\n    }\n    \n  }\n\n  leaveChat()\n  {\n    this.service.leaveChat().then((response)=>{\n       this.route.navigate(['/welcome']);\n      setTimeout(()=>{\n        location.reload() /////////////////////////////////// the most IMP  method to reload page \n      },0)\n\n      setTimeout(()=>{\n        this.showInfo();\n      },0);\n   \n    }).catch((error)=>{\n      console.log(error);\n    })\n  }\n\n  showInfo() {\n    this.loggedInUserName && this.toast.info({detail:\"INFO\",summary:this.loggedInUserName + ' left the Group',duration:8000,sticky:true, position: 'topRight'});\n  }\n\n}\n","<div class=\"container mt-5\">\n\n  <div class=\"chat_header\">\n\n    <button class=\"btn btn-outline-light- d-none\" type=\"button\" data-bs-toggle=\"offcanvas\" id=\"colapse\"\n          data-bs-target=\"#offcanvasWithBothOptions\" aria-controls=\"offcanvasWithBothOptions\"><i class=\"fa-solid fa-bars text-white\"></i></button>    <!------  Button for Collapse --->\n\n    <h3 class=\"text-center my-2\">Welcome to <span class=\"text-warning\">{{roomName}}</span> Group</h3>\n    <button (click)=\"leaveChat()\" class=\"btn btn-danger leave\">Leave Chat</button>\n  </div>\n\n  <div class=\"messaging\">\n    <div class=\"inbox_msg\">\n      <div class=\"inbox_people\">\n\n        <div class=\"headind_srch\">\n\n          <div class=\"recent_heading\">\n            <h4 class=\"text-white\">Connected Users</h4>\n          </div>\n\n        </div>\n\n\n          <!-- ---------------------------- off canvas data -------------------------- -->\n        <div class=\"offcanvas offcanvas-start\" data-bs-scroll=\"true\" tabindex=\"-1\" id=\"offcanvasWithBothOptions\"\n          aria-labelledby=\"offcanvasWithBothOptionsLabel\">\n          <div class=\"offcanvas-header\">\n            <h5 class=\"offcanvas-title\" id=\"offcanvasWithBothOptionsLabel\">Connected Users</h5>\n            <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"offcanvas\" aria-label=\"Close\"></button>\n          </div>\n          <div class=\"offcanvas-body\">\n\n            <ng-container *ngFor=\"let user of this.service.ConnectedUsers$ | async\" >\n              <!---- async is used to directly subscribed and unsubscribed-->\n\n              <div class=\"chat_list border-top\" >\n                <div class=\"chat_people\">\n                  <div class=\"chat_img\"> <img src=\"https://ptetutorials.com/images/user-profile.png\" alt=\"\"> </div>\n                  <div class=\"chat_ib mt-3\">\n                    <h5 class=\"\">{{user}} <span class=\"online\"></span></h5>\n                  </div>\n                </div>\n              </div>\n\n            </ng-container>\n          </div>\n        </div>\n\n        <!----------------------------------------------------------------------------------------->\n\n        <div class=\"inbox_chat\">\n\n        <ng-container *ngFor=\"let user of this.service.ConnectedUsers$ | async\">\n          <!---- async is used to directly subscribed and unsubscribed-->\n\n          <div class=\"chat_list\">\n            <div class=\"chat_people\">\n              <div class=\"chat_img\"> <img src=\"https://ptetutorials.com/images/user-profile.png\" alt=\"\"> </div>\n              <div class=\"chat_ib mt-3\">\n                <h5 class=\"text-white\">{{user}} <span class=\"online\"></span></h5>\n              </div>\n            </div>\n          </div>\n\n        </ng-container>\n\n      </div>\n\n      </div>\n\n      <div class=\"mesgs\">\n\n        <div #scrollMe class=\"msg_history\">\n          <ng-container *ngFor=\"let message of this.service.message$ | async\">\n\n            <div\n              [ngClass]=\"{'incoming_msg': message.user != loggedInUserName, 'outgoing_msg': message.user === loggedInUserName}\">\n              <div *ngIf=\"message.user != loggedInUserName\" class=\"incoming_msg_img\">\n                <img src=\"https://ptetutorials.com/images/user-profile.png\">\n              </div>\n\n              <div *ngIf=\"message.user != loggedInUserName\" class=\"received_msg\">\n                <div class=\"received_withd_msg\"> <!-------------when message is received from another party ------------>\n                  <p> {{message.message}}</p>\n                  <span class=\"time_date\">{{message.user}} | {{message.messageTime | date: 'medium'}}</span>\n                </div>\n              </div>\n\n              <div *ngIf=\"message.user === loggedInUserName\" class=\"sent_msg\">\n                <!----------- when message is sent ------------->\n                <p>{{message.message}}</p>\n                <span class=\"time_date\">{{message.user}} | {{message.messageTime | date: 'medium'}}</span>\n              </div>\n\n            </div>\n\n          </ng-container>\n        </div>\n\n\n        <div class=\"type_msg\">\n          <div class=\"input_msg_write\">\n            <input (keydown.enter)=\"sendMessage()\" [(ngModel)]=\"inputMessage\" type=\"text\" class=\"write_msg text-white\"\n              placeholder=\"Type a message\" />\n            <button (click)=\"sendMessage()\" class=\"msg_send_btn\" type=\"button\"><i class=\"fa-solid fa-paper-plane\"></i></button>\n          </div>\n        </div>\n      </div>\n\n    </div>\n\n  </div>\n\n</div>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}